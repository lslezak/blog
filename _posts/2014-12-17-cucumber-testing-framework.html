---
layout: post
title: Cucumber Testing Framework
date: '2014-12-17T06:18:00.003-08:00'
author: Ladislav Slez√°k
tags: 
modified_time: '2014-12-17T06:18:45.737-08:00'
blogger_id: tag:blogger.com,1999:blog-6535501136403374362.post-5515343234023794479
blogger_orig_url: http://lslezak.blogspot.com/2014/12/cucumber-testing-framework.html
---

<a href="http://cukes.info/" target="_blank">Cucumber</a> is BDD (<a href="https://en.wikipedia.org/wiki/Behavior-driven_development" target="_blank">behaviour driven development</a>) framework. In contrast to other BDD frameworks (like <a href="http://rspec.info/" target="_blank">RSpec</a>) the specification is written in a natural human readable language.<br /><div><br /></div><h3>Rubocop-yast</h3><div>I wanted to write tests for the new Rubocop-yast plugin in some nice way. I started with RSpec, but the tests looked ugly (writing multiline indented Ruby code in a string literal requires extra escaping which makes it quite hard to read...).</div><div><br /></div><div>Then I looked at the original <a href="https://github.com/yast/zombie-killer/blob/master/spec/zombie_killer_spec.md" target="_blank">Zombie Killer tests</a>. They are written in Markdown so they are better readable, you can write some additional comments to the test etc... And how to run the Markdown tests? There is a custom Markdown renderer which converts the Markdown specification into a RSpec test.</div><div><br /></div><div>Looks nice, but having a custom renderer makes it difficult, we have to maintain it and the Markdown format in specific, there is nothing else similar to it...</div><div><br /></div><div>Then Cucumber come to my mind! It exactly fits our need! The specification allows to write extra comments and notes, it's readable almost like our Markdown and is a standard tool. The killer feature is <a href="http://cukes.info/step-definitions.html#doc-strings" target="_blank">multiline docstring parameter</a>. It allows to write indented Ruby code directly without any extra escaping.</div><div><br /></div><div>You can check how the tests looks <a href="https://github.com/yast/rubocop-yast/tree/master/features" target="_blank">here</a>, check the <span style="font-family: Courier New, Courier, monospace;">*.feature</span> files. <a href="https://github.com/yast/rubocop-yast/blob/master/features/step_definitions/cop_steps.rb" target="_blank">Here</a> is the code which converts the specification into the testing code.</div><div><br /></div><h3>Pros &amp; Cons</h3><div>Here is the summary of pros &amp; cons I found when starting with Cucumber:</div><div><br /></div><div><div><b>Advantages</b></div><ul><li>Specification in natural language, readable tests and user stories</li><li>Allows to use other testing framework for running the real tests (like RSpec)</li></ul><div><b>Disadvantages</b></div></div><div><ul><li>Extra code for converting the textual specification to Ruby code</li><li>One more layer between test description and the code (you need to make sure the code really matches the description)</li><li>Test descriptions should describe the high level features (usually the user interaction), they should not describe the low-level implementation details</li></ul></div><div>Ideally the features should be written by managers, designers or other non-technical people. They can describe the required features without any programming skills. That's probably the most important Cucumber feature.</div><div><br /></div><h3>Suitable for Yast?</h3><div>In my opinion not. Why? We are usually focused on low-level features and we would probably need too much code for converting the specifications to tests. And the tests are usually too different, we would need to write extra conversion for each test and maintain it. The overall benefit would be small in my opinion and would not be worth of doing it.</div><div><br /></div><div>Moreover the feature descriptions we usually get are hard to convert to a testing code, they are usually too generic or cannot be tested in unit tests (e.g. the installer features).</div><div><br /></div><h3>Links</h3><div><a href="http://cukes.info/">http://cukes.info/</a></div><div><a href="http://cukes.info/step-definitions.html">http://cukes.info/step-definitions.html</a></div><div><a href="https://blog.engineyard.com/2009/15-expert-tips-for-using-cucumber/">https://blog.engineyard.com/2009/15-expert-tips-for-using-cucumber/</a></div><div><a href="http://antonymarcano.com/blog/2010/08/youre-almost-cuking-it/">http://antonymarcano.com/blog/2010/08/youre-almost-cuking-it/</a></div><div><a href="http://www.elabs.se/blog/15-you-re-cuking-it-wrong">http://www.elabs.se/blog/15-you-re-cuking-it-wrong</a></div><div><br /></div>